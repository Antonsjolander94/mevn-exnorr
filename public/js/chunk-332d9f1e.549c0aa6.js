(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-332d9f1e"],{3530:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{staticClass:"pt-5"},[n("b-row",{staticClass:"pt-5"},[n("b-col",{attrs:{cols:"12"}},[n("PersonList")],1)],1)],1)},r=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-list-group",{staticClass:"mb-5"},[n("AddPerson",{staticClass:"mb-3",on:{addedPerson:e.fetchPersons}}),e.allPersons&&e.allPersons.length>0?[n("EditPerson",{attrs:{person:e.person},on:{editedPerson:e.resetEdit}}),e._l(e.allPersons,(function(t,a){return n("Person",{key:a,attrs:{person:t},on:{deletedPerson:e.fetchPersons,editPerson:e.editPerson}})}))]:e._e()],2)},s=[],l=n("5530"),i=n("2f62"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-button",{attrs:{variant:"primary"},on:{click:function(t){e.modalShow=!e.modalShow}}},[e._v("Ny person")]),n("b-modal",{attrs:{scrollable:"","hide-footer":"",title:"Ny person"},model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[n("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[n("b-form-group",[n("label",{attrs:{for:"name"}},[e._v("Namn")]),n("b-form-input",{attrs:{type:"text",id:"name",placeholder:"Namn"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("b-form-group",[n("label",{attrs:{for:"day"}},[e._v("Dag")]),n("b-form-input",{attrs:{type:"number",id:"day",placeholder:"Dag"},model:{value:e.form.day,callback:function(t){e.$set(e.form,"day",t)},expression:"form.day"}})],1),n("b-form-group",[n("label",{attrs:{for:"month"}},[e._v("Månad")]),n("b-form-select",{attrs:{id:"month",type:"number",options:e.months},model:{value:e.form.month,callback:function(t){e.$set(e.form,"month",t)},expression:"form.month"}})],1),n("b-form-group",[n("label",{attrs:{for:"year"}},[e._v("År")]),n("b-form-input",{attrs:{type:"number",id:"year",placeholder:"År"},model:{value:e.form.year,callback:function(t){e.$set(e.form,"year",t)},expression:"form.year"}})],1),n("b-form-group",[n("label",{attrs:{for:"image"}},[e._v("Bild")]),n("b-form-file",{attrs:{accept:"image/jpeg, image/png",id:"image",placeholder:"Bild",plain:""},model:{value:e.form.image,callback:function(t){e.$set(e.form,"image",t)},expression:"form.image"}})],1),n("div",{staticClass:"mt-4 d-flex justify-content-between"},[n("b-button",{attrs:{variant:"success",type:"submit"}},[e._v("Spara")]),n("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.modalShow=!e.modalShow}}},[e._v("Avbryt")])],1)],1)],1)],1)},c=[],m=(n("96cf"),n("1da1")),d={data:function(){return{modalShow:!1,form:{name:"",day:null,month:null,year:null,image:null},months:[{value:null,text:"Välj en månad",disabled:!0},{value:1,text:"01 - Januari"},{value:2,text:"02 - Februari"},{value:3,text:"03 - Mars"},{value:4,text:"04 - April"},{value:5,text:"05 - Maj"},{value:6,text:"06 - Juni"},{value:7,text:"07 - Juli"},{value:8,text:"08 - Augusti"},{value:9,text:"09 - September"},{value:10,text:"10 - Oktober"},{value:11,text:"11 - November"},{value:12,text:"12 - December"}]}},methods:Object(l["a"])({},Object(i["b"])(["addPerson"]),{onSubmit:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.addPerson(e.form);case 2:e.reset(),e.$emit("addedPerson");case 4:case"end":return t.stop()}}),t)})))()},reset:function(){var e={name:"",day:null,month:null,year:null,image:null};this.form=e,this.modalShow=!1}})},p=d,b=n("2877"),f=Object(b["a"])(p,u,c,!1,null,null,null),h=f.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{scrollable:"","no-close-on-esc":"","no-close-on-backdrop":"","hide-footer":"","hide-header":"",id:"edit-modal"}},[e.personData&&e.personData.image?n("div",{staticClass:"person-image mb-3",style:{backgroundImage:"url("+e.getImgUrl+")"}}):e._e(),e.personData?n("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[n("b-form-group",[n("label",{attrs:{for:"name"}},[e._v("Namn")]),n("b-form-input",{attrs:{type:"text",id:"name",placeholder:"Namn"},model:{value:e.personData.name,callback:function(t){e.$set(e.personData,"name",t)},expression:"personData.name"}})],1),n("b-form-group",[n("label",{attrs:{for:"day"}},[e._v("Dag")]),n("b-form-input",{attrs:{type:"number",id:"day",placeholder:"Dag"},model:{value:e.personData.day,callback:function(t){e.$set(e.personData,"day",t)},expression:"personData.day"}})],1),n("b-form-group",[n("label",{attrs:{for:"month"}},[e._v("Månad")]),n("b-form-select",{attrs:{id:"month",type:"number",options:e.months},model:{value:e.personData.month,callback:function(t){e.$set(e.personData,"month",t)},expression:"personData.month"}})],1),n("b-form-group",[n("label",{attrs:{for:"year"}},[e._v("År")]),n("b-form-input",{attrs:{type:"number",id:"year",placeholder:"År"},model:{value:e.personData.year,callback:function(t){e.$set(e.personData,"year",t)},expression:"personData.year"}})],1),n("div",{staticClass:"mt-4 d-flex justify-content-between"},[n("b-button",{attrs:{variant:"success",type:"submit"}},[e._v("Spara")]),n("b-button",{attrs:{variant:"outline-secondary"},on:{click:e.hideEditPersonModal}},[e._v("Avbryt")])],1)],1):e._e()],1)},g=[],x={props:["person"],data:function(){return{personData:null,months:[{value:null,text:"Välj en månad",disabled:!0},{value:1,text:"01 - Januari"},{value:2,text:"02 - Februari"},{value:3,text:"03 - Mars"},{value:4,text:"04 - April"},{value:5,text:"05 - Maj"},{value:6,text:"06 - Juni"},{value:7,text:"07 - Juli"},{value:8,text:"08 - Augusti"},{value:9,text:"09 - September"},{value:10,text:"10 - Oktober"},{value:11,text:"11 - November"},{value:12,text:"12 - December"}]}},watch:{person:function(e,t){console.log(e+"was"+t),this.personData=e}},methods:Object(l["a"])({},Object(i["b"])(["updatePerson"]),{cancelEdit:function(){this.$emit("cancelEdit")},onSubmit:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.updatePerson(e.personData);case 2:e.$emit("editedPerson");case 3:case"end":return t.stop()}}),t)})))()},hideEditPersonModal:function(){this.$bvModal.hide("edit-modal")}}),computed:{getImgUrl:function(){return"http://localhost:5000/uploads/".concat(this.person.image)}}},y=x,P=(n("c3ab"),Object(b["a"])(y,v,g,!1,null,"03926538",null)),_=P.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-list-group-item",[e.person.image?n("b-img",{staticClass:"person-image",attrs:{fluid:"",src:e.getImgUrl,alt:e.person.name}}):e._e(),n("p",{staticClass:"mb-0"},[e._v(e._s(e.person.name))]),n("div",{staticClass:"d-flex flex-row align-items-center justify-content-center"},[n("p",{staticClass:"mb-0"},[e._v(e._s(e.person.year)+"-")]),n("p",{staticClass:"mb-0"},[e.person.month<10?[n("span",[e._v("0"+e._s(e.person.month)+"-")])]:[e._v(e._s(e.person.month)+"-")]],2),n("p",{staticClass:"mb-0"},[e.person.day<10?[n("span",[e._v("0"+e._s(e.person.day))])]:[e._v(e._s(e.person.day))]],2)]),n("div",{staticClass:"b-list-group-actions"},[n("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){return e.editPerson(e.person)}}},[n("BIconPencil")],1),n("b-button",{attrs:{variant:"outline-danger"},on:{click:function(t){return e.deletePerson(e.person._id)}}},[n("BIconTrash")],1)],1)],1)},j=[],k=n("7386"),D={props:["person"],components:{BIconPencil:k["uh"],BIconTrash:k["yj"]},methods:Object(l["a"])({},Object(i["b"])(["deleteThePerson"]),{deletePerson:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!window.confirm("Ta bort personen?")){n.next=4;break}return n.next=3,t.deleteThePerson(e);case 3:t.$emit("deletedPerson");case 4:case"end":return n.stop()}}),n)})))()},editPerson:function(e){this.$emit("editPerson",e)}}),computed:{getImgUrl:function(){return"http://localhost:5000/uploads/".concat(this.person.image)}}},$=D,O=(n("a28a"),Object(b["a"])($,w,j,!1,null,"d45ad1b8",null)),S=O.exports,C={components:{Person:S,AddPerson:h,EditPerson:_},data:function(){return{person:null}},updated:function(){console.log(this.$route)},methods:Object(l["a"])({},Object(i["b"])(["fetchPersons"]),{resetEdit:function(){this.person=null,this.fetchPersons(),this.$bvModal.hide("edit-modal")},editPerson:function(e){this.person=e,this.person?this.$bvModal.show("edit-modal"):this.$bvModal.hide("edit-modal")}}),computed:Object(l["a"])({},Object(i["c"])(["allPersons"]),{hasPersonID:function(){return!!this.person}}),created:function(){this.fetchPersons()}},E=C,M=Object(b["a"])(E,o,s,!1,null,null,null),I=M.exports,A={components:{PersonList:I}},J=A,N=Object(b["a"])(J,a,r,!1,null,null,null);t["default"]=N.exports},a28a:function(e,t,n){"use strict";var a=n("c88e"),r=n.n(a);r.a},c3ab:function(e,t,n){"use strict";var a=n("ef17"),r=n.n(a);r.a},c88e:function(e,t,n){},ef17:function(e,t,n){}}]);
//# sourceMappingURL=chunk-332d9f1e.549c0aa6.js.map